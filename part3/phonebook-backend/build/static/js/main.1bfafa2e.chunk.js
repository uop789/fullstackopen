(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),u=(n(20),n(14)),l=n(2),i=function(e){return r.a.createElement("p",null,"filter shown with ",r.a.createElement("input",{value:e.searchName,onChange:e.handleSearchName}))},s=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("p",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("p",null,"number: ",r.a.createElement("input",{type:"tel",value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("button",{type:"submit"},"add"))},m=function(e){return e.personToShow.map((function(t){return r.a.createElement("p",{key:t.id},"".concat(t.name," ").concat(t.number," "),r.a.createElement("button",{onClick:function(){return e.handleDelete(t.id,t.name)}},"delete"))}))},f=n(3),d=n.n(f),h="https://agile-thicket-66259.herokuapp.com/api/persons",b=function(){return d.a.get(h).then((function(e){return e.data}))},p=function(e){return d.a.post(h,e).then((function(e){return e.data}))},O=function(e){return d.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},g=function(e,t){return d.a.put("".concat(h,"/").concat(e),t).then((function(e){return e.data}))},j=function(e){var t=e.message,n=e.successfulMessgae,a=e.errorMessage;return null===t?null:t===n?r.a.createElement("div",{className:"successful"},t):t===a?r.a.createElement("div",{className:"error"},t):void 0};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),f=Object(l.a)(o,2),d=f[0],h=f[1],E=Object(a.useState)(""),v=Object(l.a)(E,2),y=v[0],N=v[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),P=k[0],C=k[1],D=Object(a.useState)(!0),T=Object(l.a)(D,2),M=T[0],I=T[1],J=Object(a.useState)(null),L=Object(l.a)(J,2),x=L[0],A=L[1],B=Object(a.useState)(null),q=Object(l.a)(B,2),z=q[0],F=q[1];Object(a.useEffect)((function(){b().then((function(e){c(e)}))}),[]);var G=M?n:n.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(j,{message:x||z,successfulMessgae:x,errorMessage:z}),r.a.createElement(i,{searchName:P,handleSearchName:function(e){C(e.target.value),""===e.target.value?I(!0):I(!1)}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(s,{addPerson:function(e){if(e.preventDefault(),n.map((function(e){return e.name})).includes(d))if(window.confirm("".concat(d," is already added to phonebook, replace the old number with a new one?"))){var t=n.find((function(e){return e.name===d})),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{number:y});g(t.id,a).then((function(e){c(n.map((function(n){return n.id!==t.id?n:e}))),A("Number of ".concat(e.name," changed")),setTimeout((function(){A(null)}),5e3)})).catch((function(e){F("Information of ".concat(d," has already been removed from server")),setTimeout((function(){F(null)}),5e3)}))}else h(""),N("");else p({name:d,number:y}).then((function(e){c(n.concat(e)),h(""),N(""),A("Added ".concat(e.name)),setTimeout((function(){A(null)}),5e3)}))},newName:d,handleNameChange:function(e){h(e.target.value)},newNumber:y,handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(m,{personToShow:G,handleDelete:function(e,t){window.confirm("Delete ".concat(t," ?"))&&O(e).then(c(n.filter((function(t){return t.id!==e}))))}}))};o.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1bfafa2e.chunk.js.map